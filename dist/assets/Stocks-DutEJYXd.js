import{r as b,o as x,y as u,l as r,c,k as v,b as t,B as y,C as a,D as n,G as k,F as A,q as w,a as m,t as d}from"./index-DE0sq3M8.js";import{_ as S}from"./AdminNav-dYmzuoiQ.js";const F={class:"min-h-screen bg-[#111111] text-white"},D={class:"lg:pl-64 p-6"},U={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},h={class:"flex items-center"},_={class:"flex items-center gap-2"},q={class:"grid gap-4"},V={class:"flex items-center gap-4"},E=["src","alt"],M={class:"font-semibold"},B={class:"text-sm text-gray-400"},C={class:"flex items-center gap-4"},L={class:"font-semibold"},N=["onClick"],P={__name:"Stocks",setup($){const p=b([]),l=b({name:"",symbol:"",price:"",logo:"",isUSD:!1});x(async()=>{await i()});const i=async()=>{try{const{data:o,error:e}=await u.from("stocks").select("*").order("name");if(e)throw e;p.value=o||[]}catch(o){console.error("Error fetching stocks:",o),r.error("Failed to load stocks")}},g=async()=>{try{const{error:o}=await u.from("stocks").insert([l.value]);if(o)throw o;r.success("Stock added successfully"),l.value={name:"",symbol:"",price:"",logo:"",isUSD:!1},await i()}catch(o){console.error("Error adding stock:",o),r.error("Failed to add stock")}},f=async o=>{try{const{error:e}=await u.from("stocks").delete().eq("id",o);if(e)throw e;r.success("Stock deleted successfully"),await i()}catch(e){console.error("Error deleting stock:",e),r.error("Failed to delete stock")}};return(o,e)=>(m(),c("div",F,[v(S),t("div",D,[e[13]||(e[13]=t("h1",{class:"text-2xl font-bold mb-6"},"Manage Stocks",-1)),t("form",{onSubmit:y(g,["prevent"]),class:"bg-[#1A1A1A] p-4 rounded-lg mb-6"},[t("div",U,[t("div",null,[e[5]||(e[5]=t("label",{class:"block text-sm font-medium text-gray-400 mb-1"},"Stock Name",-1)),a(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=s=>l.value.name=s),class:"w-full bg-[#2A2A2A] p-2 rounded",required:""},null,512),[[n,l.value.name]])]),t("div",null,[e[6]||(e[6]=t("label",{class:"block text-sm font-medium text-gray-400 mb-1"},"Symbol",-1)),a(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=s=>l.value.symbol=s),class:"w-full bg-[#2A2A2A] p-2 rounded",required:""},null,512),[[n,l.value.symbol]])]),t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-400 mb-1"},"Price",-1)),a(t("input",{type:"number",step:"0.01","onUpdate:modelValue":e[2]||(e[2]=s=>l.value.price=s),class:"w-full bg-[#2A2A2A] p-2 rounded",required:""},null,512),[[n,l.value.price]])]),e[10]||(e[10]=t("div",null,[t("label",{class:"block text-sm font-medium text-gray-400 mb-1"},"Stock description"),t("textarea",{class:"w-full bg-[#2A2A2A] p-2 rounded",required:""})],-1)),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-400 mb-1"},"Logo URL",-1)),a(t("input",{type:"url","onUpdate:modelValue":e[3]||(e[3]=s=>l.value.logo=s),class:"w-full bg-[#2A2A2A] p-2 rounded",required:""},null,512),[[n,l.value.logo]])]),t("div",h,[t("label",_,[a(t("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=s=>l.value.isUSD=s),class:"rounded text-[#7F3DFF]"},null,512),[[k,l.value.isUSD]]),e[9]||(e[9]=t("span",{class:"text-sm text-gray-400"},"Is USD Stock",-1))])])]),e[11]||(e[11]=t("button",{type:"submit",class:"mt-4 bg-[#7F3DFF] text-white px-4 py-2 rounded hover:bg-[#6F 2FEF]"}," Add Stock ",-1))],32),t("div",q,[(m(!0),c(A,null,w(p.value,s=>(m(),c("div",{key:s.id,class:"bg-[#1A1A1A] p-4 rounded-lg flex justify-between items-center"},[t("div",V,[t("img",{src:s.logo,alt:s.name,class:"w-12 h-12 rounded-lg"},null,8,E),t("div",null,[t("h3",M,d(s.name),1),t("p",B,d(s.symbol),1)])]),t("div",C,[t("span",L,d(s.isUSD?"$":"â‚¦")+d(s.price),1),t("button",{onClick:j=>f(s.id),class:"text-red-500 hover:text-red-600"},e[12]||(e[12]=[t("i",{class:"bi-trash text-lg"},null,-1)]),8,N)])]))),128))])])]))}};export{P as default};
