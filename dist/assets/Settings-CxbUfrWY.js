import{r as f,o as p,y as i,l as o,c as m,k as c,b as t,C as n,G as u,D as d,a as g}from"./index-DE0sq3M8.js";import{_ as b}from"./AdminNav-dYmzuoiQ.js";const x={class:"min-h-screen bg-[#111111] text-white"},v={class:"lg:pl-64 p-6"},w={class:"max-w-2xl"},h={class:"bg-[#1A1A1A] rounded-lg p-6 mb-6"},y={class:"space-y-4"},A={class:"flex items-center justify-between"},k={class:"relative inline-flex items-center cursor-pointer"},S={class:"flex items-center justify-between"},V={class:"relative inline-flex items-center cursor-pointer"},_={class:"bg-[#1A1A1A] rounded-lg p-6"},D={class:"space-y-4"},q={__name:"Settings",setup(E){const s=f({allowSignups:!0,requireEmailVerification:!1,minDeposit:40,minWithdrawal:10});p(async()=>{try{const{data:l,error:e}=await i.from("auth_settings").select("*").single();if(e)throw e;l&&(s.value={...s.value,...l})}catch(l){console.error("Error fetching settings:",l),o.error("Failed to load settings")}});const a=async()=>{try{const{error:l}=await i.from("auth_settings").update(s.value).eq("id",1);if(l)throw l;o.success("Settings updated successfully")}catch(l){console.error("Error updating settings:",l),o.error("Failed to update settings")}};return(l,e)=>(g(),m("div",x,[c(b),t("div",v,[e[12]||(e[12]=t("h1",{class:"text-2xl font-bold mb-6"},"Settings",-1)),t("div",w,[t("div",h,[e[8]||(e[8]=t("h2",{class:"text-xl font-semibold mb-4"},"General Settings",-1)),t("div",y,[t("div",A,[e[5]||(e[5]=t("div",null,[t("h3",{class:"font-medium"},"Allow New Signups"),t("p",{class:"text-sm text-gray-400"},"Enable or disable new user registrations")],-1)),t("label",k,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=r=>s.value.allowSignups=r),class:"sr-only peer",onChange:a},null,544),[[u,s.value.allowSignups]]),e[4]||(e[4]=t("div",{class:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#7F3DFF]"},null,-1))])]),t("div",S,[e[7]||(e[7]=t("div",null,[t("h3",{class:"font-medium"},"Email Verification"),t("p",{class:"text-sm text-gray-400"},"Require email verification for new accounts")],-1)),t("label",V,[n(t("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=r=>s.value.requireEmailVerification=r),class:"sr-only peer",onChange:a},null,544),[[u,s.value.requireEmailVerification]]),e[6]||(e[6]=t("div",{class:"w-11 h-6 bg-gray-700 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-[#7F3DFF]"},null,-1))])])])]),t("div",_,[e[11]||(e[11]=t("h2",{class:"text-xl font-semibold mb-4"},"Transaction Settings",-1)),t("div",D,[t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-400 mb-1"}," Minimum Deposit Amount ($) ",-1)),n(t("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=r=>s.value.minDeposit=r),class:"w-full bg-[#2A2A2A] rounded-lg px-4 py-2",onChange:a},null,544),[[d,s.value.minDeposit]])]),t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-400 mb-1"}," Minimum Withdrawal Amount ($) ",-1)),n(t("input",{type:"number","onUpdate:modelValue":e[3]||(e[3]=r=>s.value.minWithdrawal=r),class:"w-full bg-[#2A2A2A] rounded-lg px-4 py-2",onChange:a},null,544),[[d,s.value.minWithdrawal]])])])])])])]))}};export{q as default};
